<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Object Version Properties - dans-ocfl-extensions</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Object Version Properties";
        var mkdocs_page_input_path = "object-version-properties/object-version-properties.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> dans-ocfl-extensions
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">DANS OCFL Extensions</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../..">Overview</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="./">Object Version Properties</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#the-object_version_propertiesjson-file">The object_version_properties.json file</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#implementation">Implementation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#1-simple-property">1. Simple property</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#2-complex-property">2. Complex property</a>
    </li>
        </ul>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../property-registry/property-registry/">Property Registry</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../packaging-format-registry/packaging-format-registry/">Packaging Format Registry</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Examples</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../examples/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../collaboration/">Collaboration</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Context</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../arch/">⇒ DANS Data Station Architecture</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">dans-ocfl-extensions</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>DANS OCFL Extensions &raquo;</li><li>Object Version Properties</li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://github.com/DANS-KNAW/dans-ocfl-extensions/edit/master/docs/object-version-properties/object-version-properties.md"> Edit on DANS-KNAW/dans-ocfl-extensions</a>
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="ocfl-extension-object-version-properties">OCFL Extension: Object Version Properties<a class="headerlink" href="#ocfl-extension-object-version-properties" title="Permanent link">&para;</a></h1>
<ul>
<li><strong>Extension Name:</strong> object-version-properties</li>
<li><strong>Authors:</strong> Linda Reijnhoudt, Jan van Mansum</li>
<li><strong>Minimum OCFL Version:</strong> 1.0</li>
<li><strong>Status:</strong> DRAFT</li>
</ul>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>This extension provides a way to record properties of an OCFL object version beyond the standard properties defined by OCFL itself (<code>created</code>, <code>message</code>, etc.).
This may be useful for cases where additional information about the version is needed, which cannot conveniently be stored in the object itself in a standard
way. Another use-case may be a property that is not available at the time the version content is created.</p>
<p>This extension only describes how the properties should be recorded, it does not prescribe what properties should be recorded or their semantics. One way to
define the semantics of properties is to use the <a href="../../property-registry/property-registry/">Property Registry extension</a>.</p>
<p>The object-version-properties extension is implemented by creating and maintaining the following items:</p>
<ul>
<li>A <code>object_version_properties.json</code> file containing the properties for each version of the OCFL object.</li>
<li>A sidecar file <code>object_version_properties.json.sha512</code> (or other configured digest) containing the digest of the <code>object_version_properties.json</code> file, in
  the same manner as the OCFL inventory files. The digest algorithm must be the same as the one used for the OCFL inventory files.</li>
</ul>
<h2 id="the-object_version_propertiesjson-file">The object_version_properties.json file<a class="headerlink" href="#the-object_version_propertiesjson-file" title="Permanent link">&para;</a></h2>
<p>The object version properties are stored in a JSON file named <code>object_version_properties.json</code> in the extensions directory of the OCFL object. This file must
contain entries for all versions in this object. Each version entry has as key the version identifier (e.g. <code>v1</code>, <code>v2</code>, etc.) and as value a JSON object with
the properties for that version. If no properties are recorded for a version, the entry for that version must be an empty JSON object.</p>
<p>The properties recorded under a version key pertain to that version only, so when a new version is created, properties that do not change must be copied from
the previous version. Otherwise, this extension does not restrict the properties that can be recorded, nor does it define their semantics.</p>
<h2 id="implementation">Implementation<a class="headerlink" href="#implementation" title="Permanent link">&para;</a></h2>
<p>Clients that implement this extension must validate that the <code>object_version_properties.json</code> file is well-formed JSON and that it contains an entry for each
version in the object as part of the validation of the OCFL object.</p>
<p>Clients may support storing the version properties when creating a new version of an OCFL object, by passing the properties map as an extra parameter to the
version creation method. Likewise, clients may support retrieving the properties for a specific version of an OCFL object as a properties map. Other optional
features may include the ability to search for object versions based on their properties.</p>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h2>
<h3 id="1-simple-property">1. Simple property<a class="headerlink" href="#1-simple-property" title="Permanent link">&para;</a></h3>
<p>If the repository wants to record a simple property, for instance the User-Agent that made the request to create this version, this could be done as follows.</p>
<div class="codehilite"><pre><span></span><code>[storage_root]
  ├── 0=ocfl_1.0
  ├── ocfl_1.0.txt
  ├── ocfl_layout.json
  ├── object-version-properties.md
  ├── 0de
  |   └── 45c
  |       └── f24
  |           └── item1
  │               └── 0=ocfl_object_1.0
  │                   ├── inventory.json
  │                   ├── inventory.json.sha512
  |                   └── extensions
  │                        └── object-version-properties/
  │                            ├── object_version_properties.json
  │                            └── object_version_properties.json.sha512
  └────────────────── v1/
                      ├── inventory.json
                      ├── inventory.json.sha512
                      └── content/
                          └── ... files ...
</code></pre></div>

<p>The <code>object-version-properties.json</code> of the OCFL object could have the following entry:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;v1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;User-Agent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64)&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="2-complex-property">2. Complex property<a class="headerlink" href="#2-complex-property" title="Permanent link">&para;</a></h3>
<p>If the repository wants to record a complex object for a version, for instance that it has been deaccessioned, this could be done with a similar structure. The
<code>object-version-properties.json</code> of the OCFL object might have the following entry:</p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;v1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;User-Agent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64)&quot;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;v2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;User-Agent&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64)&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;deaccessioned&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;datetime&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-15T13:19:00&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Deaccessioned because dataset was deleted in Easy&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Note, that this example also demonstrates that a property that remains unchanged between versions (in this case "User-Agent") must be copied from the previous
version.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../.." class="btn btn-neutral float-left" title="Overview"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../../property-registry/property-registry/" class="btn btn-neutral float-right" title="Property Registry">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../.." style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../../property-registry/property-registry/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme_extra.js" defer></script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
